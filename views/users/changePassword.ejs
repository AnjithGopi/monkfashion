<%-include('../layouts/headerUser')-%>

<%- include('../layouts/mobileHeaderUser')-%>
    
    <main class="main">
        <div class="page-header breadcrumb-wrap">
            <div class="container">
                <div class="breadcrumb">
                    <a href="/home" rel="nofollow">Home</a>
                    <span></span> Login / Register
                    <span></span> Change Password
                </div>
            </div>
        </div>
        <section class="pt-50 pb-150">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 m-auto">
                        <div class="row">
                            
                           
                            <div class="col-lg-12">
                                <div class="login_wrap widget-taber-content p-30 background-white border-radius-5">
                                    <div class="padding_eight_all bg-white">
                                        <div class="heading_s1">
                                            <h3 class="mb-30">Change Password</h3>
                                        </div>
                                      
                                        <form method="post"  name="addressForm" onsubmit="return validateForm()">
                                          

                                            <div class="form-group col-md-12">
                                                <label>Current Password <span class="required">*</span></label>
                                                <input required="" class="form-control square" name="password" type="password">
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label>New Password <span class="required">*</span></label>
                                                <input required="" class="form-control square" name="npassword" type="password">
                                            </div>
                                            <div class="form-group col-md-12">
                                                <label>Confirm Password <span class="required">*</span></label>
                                                <input required="" class="form-control square" name="cpassword" type="password">
                                            </div>
                                           
                                            <div class=" ml-10">
                                                <button type="submit" >
                                                    Change Password
                                                </button>
                                            </div>
                                         </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
   
    <%-include('../layouts/footerUser')-%>

    <script>
        function validateForm() {
            var currentPassword = document.forms["addressForm"]["password"];
            var newPassword = document.forms["addressForm"]["npassword"];
            var confirmPassword = document.forms["addressForm"]["cpassword"];
    
            // Reset border colors and remove previous error messages
            currentPassword.style.border = "";
            newPassword.style.border = "";
            confirmPassword.style.border = "";
            removeErrorMessages();
    
            // Check if any field is empty or contains only blank spaces
            if (isFieldEmptyOrSpaces(currentPassword.value)) {
                displayError(currentPassword, "Current Password is required.");
                return false;
            }
    
            if (isFieldEmptyOrSpaces(newPassword.value)) {
                displayError(newPassword, "New Password is required.");
                return false;
            }
    
            if (isFieldEmptyOrSpaces(confirmPassword.value)) {
                displayError(confirmPassword, "Confirm Password is required.");
                return false;
            }
    
            // Check if the new password and confirm password match
            if (newPassword.value !== confirmPassword.value) {
                displayError(confirmPassword, "New Password and Confirm Password do not match.");
                return false;
            }
    
            // Check if the new password meets certain criteria (e.g., minimum length)
            if (newPassword.value.length < 8) {
                displayError(newPassword, "New Password must be at least 8 characters long.");
                return false;
            }
    
            // If all validation checks pass, return true to allow form submission
            return true;
        }
    
        function isFieldEmptyOrSpaces(value) {
            // Check if the value is empty or contains only blank spaces
            return value.trim() === "";
        }
    
        function displayError(inputField, errorMessage) {
            // Change border color to red
            inputField.style.border = "1px solid red";
    
            // Display error message
            var errorElement = document.createElement("span");
            errorElement.style.color = "red";
            errorElement.innerHTML = errorMessage;
    
            // Insert the error message after the input field
            inputField.parentNode.insertBefore(errorElement, inputField.nextSibling);
    
            // Remove the error message after 3 seconds
            setTimeout(function() {
                errorElement.parentNode.removeChild(errorElement);
            }, 3000);
        }
    
        function removeErrorMessages() {
            // Remove all error messages
            var errorElements = document.querySelectorAll("span[style='color: red;']");
            errorElements.forEach(function(errorElement) {
                errorElement.parentNode.removeChild(errorElement);
            });
        }
    </script>
    
    
    